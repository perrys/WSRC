{% extends "06_wsrc_navigation.html" %}
{% block pagetitle %}Courts{% endblock %}
{% block pagetype %}courts{% endblock %}
{% block html_header_extra %}
{{ block.super }}
{% if booking_user_id %}
<script>
window.WSRC_booking_user_id = {{ booking_user_id }};
window.WSRC_booking_user_name = "{{ booking_user_name }}";
window.WSRC_booking_user_auth_token = "{{ booking_user_auth_token }}";
</script>
{% endif %}
{% endblock %}
{% load wsrc_utils %}
{% block centered_page_content %}

<form>
  <div id="booking_datepicker_container" >
  <div class="ui-input-text ui-body-inherit ui-corner-all ui-alt-icon  ui-icon-calendar ui-btn-icon-left">
    <input type="text" class="date-input" data-enhanced="true" readonly="readonly" value='{{ date|date:"D, j N Y" }}'>
  </div>
  <div data-role="controlgroup" data-type="horizontal">
    <a class="ui-btn ui-alt-icon ui-btn-icon-left  ui-btn-inline ui-icon-carat-l previous" title="Go to previous day [Alt-P]" href='{% url 'courts' %}/{{ prev_date|date:"Y-m-d" }}' data-ajax='false'>Prev.</a>
    <a class="ui-btn ui-alt-icon ui-btn-icon-left  ui-btn-inline ui-icon-refresh refresh" title="Refresh all data [Alt-R]" href='{% url 'courts' %}/{{ date|date:"Y-m-d" }}' data-ajax='false'>Refresh</a>
    <a class="ui-btn ui-alt-icon ui-btn-icon-right ui-btn-inline ui-icon-carat-r next" title="Go to next day [Alt-N]" href='{% url 'courts' %}/{{ next_date|date:"Y-m-d" }}' data-ajax='false'>Next</a>
  </div>
  </div>
</form>

<div id="booking-day">
  {{ day_table|safe }}
</div>

<div id="booking_footer">
<div class="date">{{ date|date:"D, j N Y" }}</div>
<div class="toggler"></div>
</div>

<div data-role="popup" id="booking_tooltip" class="ui-content toggle-root" data-theme="a" style="max-width:350px;">
  <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right cancel">Close</a>
  <form action="#" method="GET">
    <input type="hidden" name="id" value=""/>
    <table>
      <tbody>
        <tr>
          <td>Name:</td>
          <td>
            <span class="togglable"></span>
            <div class="toggled"><input name="name" type="text" readonly="readonly" disabled="disabled" class="admin-updatable"></div>
          </td>
        </tr>
        <tr>
          <td>Description:</td>
          <td>
            <span class="togglable"></span>
            <div class="toggled autocomplete-parent"><input name="description" type="text"></div>
          </td>
        </tr>
        <tr>
          <td>Court:</td>
          <td>
            <span class="togglable"></span>
            <div class="toggled">
              <select name="court" readonly="readonly" disabled="disabled" class="admin-settable">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </div>
          </td>
        </tr>
        <tr>
          <td>Time:</td>
          <td>
            <span class="togglable"></span>
            <div class="toggled">
              <select name="start_mins" readonly="readonly" disabled="disabled" class="admin-settable">
                {% for mins in starts %}
                <option value="{{ mins }}">{{ mins|mins_to_time_str }}</option>
                {% endfor %}
              </select>
            </div>
          </td>
        </tr>
        <tr>
          <td>Duration:</td>     
          <td>
            <span class="togglable"></span>
            <div class="toggled">
              <select name="duration_mins" readonly="readonly" disabled="disabled" class="admin-settable">
                {% for mins in durations %}
                <option value="{{ mins }}">{{ mins|mins_to_duration_str }}</option>
                {% endfor %}
              </select>
            </div>
          </td>
        </tr>
        <tr class="togglable1">
          <td>Type:</td>
          <td>
            <span class="togglable"></span>
            <div class="toggled">
              <select name="type" readonly="readonly" disabled="disabled" class="admin-updatable">
                <option value="I" selected="selected">Member</option>
                <option value="E">Club</option>
              </select>
            </div>
         </td>
        </tr>
        <tr class="togglable"><td>Created By:</td>   <td><span></span><input type="hidden" name="created_by"/></td></tr>
        <tr class="togglable"><td>Last Updated:</td> <td><span></span><input type="hidden" name="timestamp"/></td></tr>
      </tbody>
    </table>
    <input type="hidden" name="opponent_username" />
  </form>
  <div class="inline-buttons">
    <div class="toggled">
      <button class="ui-btn ui-corner-all ui-shadow ui-btn-b update">Submit</button>
    </div>
    <div class="togglable">
      <button class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-btn-icon-left ui-btn-inline ui-icon-delete delete switchable">Delete</button>
      <button class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-btn-icon-left ui-btn-inline ui-icon-forbidden noshow">No Show</button>
      <button class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-btn-icon-left ui-btn-inline ui-icon-edit align-right edit switchable">Edit</button>
    </div>
  </div>
</div>

<div data-role="popup" id="popup_dialog" data-overlay-theme="b" data-theme="b" data-dismissible="false">
  <div data-role="header" data-theme="a">
    <h1></h1>
  </div>
  <div role="main" class="ui-content">
    <div class="content"></div>
    <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Ok</a>
  </div>
</div>

<form>
{% csrf_token %}
</form>

<script>
// wsrc.court_booking.onReady('{{ date|date:"Y-m-d" }}', '{% url "courts" %}');
</script>


{% endblock %}
